#  geom_text(aes(label = round(Valor, digits = 2), vjust = 2)) +
ylim(0, 14) +
scale_x_date(date_labels = "%Y", date_breaks = "1 year") +
theme(#aspect.ratio = 0.8,
plot.caption.position = "plot",
plot.title.position = "plot",
plot.caption = element_text(hjust = 0),
axis.line = element_line(size = 0.5),
plot.title = element_text(size = 18),
legend.position = "none") +
annotate("text", as.Date("1968-01-01"), y = 5, label = "TESTE", family = "serif") +
annotate("point", as.Date("1968-01-01"), y = 9.8, size = 5.5, shape = 1, fill = "transparent")
teste
teste <- series_ts %>%
filter(between(Ano, as.Date("1965-01-01"), as.Date("1975-01-01"))) %>%
ggplot(aes(x = Ano, y = Valor), group = Milagre) +
labs(title = "Produto Interno bruto a preços de mercado: variação real anual",
subtitle = "1965-1975",
caption = "Fonte: Ipeadata",
x = "Anos",
y = "Variação em (%)") +
geom_line(aes(col = Milagre, group = 1), size = 1) +
scale_color_manual(values = c("#000000", "#FF0000")) +
#  geom_point() +
#  geom_text(aes(label = round(Valor, digits = 2), vjust = 2)) +
ylim(0, 14) +
scale_x_date(date_labels = "%Y", date_breaks = "1 year") +
theme(#aspect.ratio = 0.8,
plot.caption.position = "plot",
plot.title.position = "plot",
plot.caption = element_text(hjust = 0),
axis.line = element_line(size = 0.5),
plot.title = element_text(size = 18),
legend.position = "none") +
annotate("text", as.Date("1968-01-01"), y = 11, label = "TESTE", family = "serif") +
annotate("point", as.Date("1968-01-01"), y = 9.8, size = 5.5, shape = 1, fill = "transparent")
teste
teste <- series_ts %>%
filter(between(Ano, as.Date("1965-01-01"), as.Date("1975-01-01"))) %>%
ggplot(aes(x = Ano, y = Valor), group = Milagre) +
labs(title = "Produto Interno bruto a preços de mercado: variação real anual",
subtitle = "1965-1975",
caption = "Fonte: Ipeadata",
x = "Anos",
y = "Variação em (%)") +
geom_line(aes(col = Milagre, group = 1), size = 1) +
scale_color_manual(values = c("#000000", "#FF0000")) +
#  geom_point() +
#  geom_text(aes(label = round(Valor, digits = 2), vjust = 2)) +
ylim(0, 14) +
scale_x_date(date_labels = "%Y", date_breaks = "1 year") +
theme(#aspect.ratio = 0.8,
plot.caption.position = "plot",
plot.title.position = "plot",
plot.caption = element_text(hjust = 0),
axis.line = element_line(size = 0.5),
plot.title = element_text(size = 18),
legend.position = "none") +
annotate("text", as.Date("1968-01-01"), y = 11, label = "TESTE") +
annotate("point", as.Date("1968-01-01"), y = 9.8, size = 5.5, shape = 1, fill = "transparent")
teste
teste <- series_ts %>%
filter(between(Ano, as.Date("1965-01-01"), as.Date("1975-01-01"))) %>%
ggplot(aes(x = Ano, y = Valor), group = Milagre) +
labs(title = "Produto Interno bruto a preços de mercado: variação real anual",
subtitle = "1965-1975",
caption = "Fonte: Ipeadata",
x = "Anos",
y = "Variação em (%)") +
geom_line(aes(col = Milagre, group = 1), size = 1) +
scale_color_manual(values = c("#000000", "#FF0000")) +
#  geom_point() +
#  geom_text(aes(label = round(Valor, digits = 2), vjust = 2)) +
ylim(0, 14) +
scale_x_date(date_labels = "%Y", date_breaks = "1 year") +
theme(#aspect.ratio = 0.8,
plot.caption.position = "plot",
plot.title.position = "plot",
plot.caption = element_text(hjust = 0),
axis.line = element_line(size = 0.5),
plot.title = element_text(size = 18),
legend.position = "none") +
annotate("text", as.Date("1968-01-01"), y = 11, label = "Início") +
annotate("point", as.Date("1968-01-01"), y = 9.8, size = 5.5, shape = 1, fill = "transparent") +
annotate("text", as.Date("1973-01-01"), y = 14.2, label = "Fim") +
annotate("point", as.Date("1968-01-01"), y = 14, size = 5.5, shape = 1, fill = "transparent")
teste
teste <- series_ts %>%
filter(between(Ano, as.Date("1965-01-01"), as.Date("1975-01-01"))) %>%
ggplot(aes(x = Ano, y = Valor), group = Milagre) +
labs(title = "Produto Interno bruto a preços de mercado: variação real anual",
subtitle = "1965-1975",
caption = "Fonte: Ipeadata",
x = "Anos",
y = "Variação em (%)") +
geom_line(aes(col = Milagre, group = 1), size = 1) +
scale_color_manual(values = c("#000000", "#FF0000")) +
#  geom_point() +
#  geom_text(aes(label = round(Valor, digits = 2), vjust = 2)) +
ylim(0, 14) +
scale_x_date(date_labels = "%Y", date_breaks = "1 year") +
theme(#aspect.ratio = 0.8,
plot.caption.position = "plot",
plot.title.position = "plot",
plot.caption = element_text(hjust = 0),
axis.line = element_line(size = 0.5),
plot.title = element_text(size = 18),
legend.position = "none") +
annotate("text", as.Date("1968-01-01"), y = 11, label = "Início") +
annotate("point", as.Date("1968-01-01"), y = 9.8, size = 5.5, shape = 1, fill = "transparent") +
annotate("text", as.Date("1973-01-01"), y = 14.2, label = "Fim") +
annotate("point", as.Date("1973-01-01"), y = 14, size = 5.5, shape = 1, fill = "transparent")
teste
teste <- series_ts %>%
filter(between(Ano, as.Date("1965-01-01"), as.Date("1975-01-01"))) %>%
ggplot(aes(x = Ano, y = Valor), group = Milagre) +
labs(title = "Produto Interno bruto a preços de mercado: variação real anual",
subtitle = "1965-1975",
caption = "Fonte: Ipeadata",
x = "Anos",
y = "Variação em (%)") +
geom_line(aes(col = Milagre, group = 1), size = 1) +
scale_color_manual(values = c("#000000", "#FF0000")) +
#  geom_point() +
#  geom_text(aes(label = round(Valor, digits = 2), vjust = 2)) +
ylim(0, 14) +
scale_x_date(date_labels = "%Y", date_breaks = "1 year") +
theme(#aspect.ratio = 0.8,
plot.caption.position = "plot",
plot.title.position = "plot",
plot.caption = element_text(hjust = 0),
axis.line = element_line(size = 0.5),
plot.title = element_text(size = 18),
legend.position = "none") +
annotate("text", as.Date("1968-01-01"), y = 11, label = "Início") +
annotate("point", as.Date("1968-01-01"), y = 9.8, size = 5.5, shape = 1, fill = "transparent") +
annotate("text", as.Date("1973-01-01"), y = 13.2, label = "Fim") +
annotate("point", as.Date("1973-01-01"), y = 14, size = 5.5, shape = 1, fill = "transparent")
teste
teste <- series_ts %>%
filter(between(Ano, as.Date("1965-01-01"), as.Date("1975-01-01"))) %>%
ggplot(aes(x = Ano, y = Valor), group = Milagre) +
labs(title = "Produto Interno bruto a preços de mercado: variação real anual",
subtitle = "1965-1975",
caption = "Fonte: Ipeadata",
x = "Anos",
y = "Variação em (%)") +
geom_line(aes(col = Milagre, group = 1), size = 1) +
scale_color_manual(values = c("#000000", "#FF0000")) +
#  geom_point() +
#  geom_text(aes(label = round(Valor, digits = 2), vjust = 2)) +
ylim(0, 14) +
scale_x_date(date_labels = "%Y", date_breaks = "1 year") +
theme(#aspect.ratio = 0.8,
plot.caption.position = "plot",
plot.title.position = "plot",
plot.caption = element_text(hjust = 0),
axis.line = element_line(size = 0.5),
plot.title = element_text(size = 18),
legend.position = "none") +
annotate("text", as.Date("1968-01-01"), y = 11, label = "Início") +
annotate("point", as.Date("1968-01-01"), y = 9.8, size = 5.5, shape = 1, fill = "transparent") +
annotate("text", as.Date("1973-01-01"), y = 12.6, label = "Fim") +
annotate("point", as.Date("1973-01-01"), y = 14, size = 5.5, shape = 1, fill = "transparent")
teste
View(series_ts)
#| echo: false
#| message: false
#| results: hide
#| warning: false
options(encoding = "UTF-8")
library(ipeadatar)
library(tidyverse)
library(ggplot2)
library(tsibble)
series <- ipeadatar::ipeadata("SCN10_PIBG10")
series <- series %>% select(-uname, -tcode, -code)
series <- series %>% mutate(
milagre = if_else(date >= "1968-01-01" & date <= "1973-01-01", TRUE, FALSE)
)
series_ts <-  tsibble(
Ano = (series$date),
Valor = series$value,
Milagre = series$milagre,
index = Ano
)
#Decidi deixar esse jeito de lado, pois o de baixo da um resultado melhor :D
#series_plot <- series_ts %>%
#  ggplot(aes(x = Ano, y = Valor)) +
#    labs(title = "Produto Interno bruto a preços de mercado: variação real anual",
#         subtitle = "1945-1965",
#         caption = "Fonte: Ipeadata",
#         x = "Anos",
#         y = "Variação em (%)") +
#    geom_line(colour = "#008FD5", size = 1) +
#    ylim(0, 12) +
#    scale_x_date(limits = as.Date(c("1945-01-01","1965-01-01")), date_labels = "%Y", date_breaks = "5 years") +
#    theme(aspect.ratio = 1) +
#    theme(plot.caption.position = "plot",
#        plot.caption = element_text(hjust = 0)) +
#    theme(plot.title.position = "plot") +
#    theme(axis.line = element_line(size = 0.5))
teste <- series_ts %>%
filter(between(Ano, as.Date("1965-01-01"), as.Date("1975-01-01"))) %>%
ggplot(aes(x = Ano, y = Valor), group = Milagre) +
labs(title = "Produto Interno bruto a preços de mercado: variação real anual",
subtitle = "1965-1975",
caption = "Fonte: Ipeadata",
x = "Anos",
y = "Variação em (%)") +
geom_line(aes(col = Milagre, group = 1), size = 1) +
scale_color_manual(values = c("#000000", "#FF0000")) +
#  geom_point() +
#  geom_text(aes(label = round(Valor, digits = 2), vjust = 2)) +
ylim(0, 14) +
scale_x_date(date_labels = "%Y", date_breaks = "1 year") +
theme(#aspect.ratio = 0.8,
plot.caption.position = "plot",
plot.title.position = "plot",
plot.caption = element_text(hjust = 0),
axis.line = element_line(size = 0.5),
plot.title = element_text(size = 18),
legend.position = "none") +
annotate("text", as.Date("1968-01-01"), y = 11, label = "Início") +
annotate("point", as.Date("1968-01-01"), y = 9.8, size = 5.5, shape = 1, fill = "transparent") +
annotate("text", as.Date("1973-01-01"), y = 12.6, label = "Fim") +
annotate("point", as.Date("1973-01-01"), y = 14, size = 5.5, shape = 1, fill = "transparent")
#Anotacao, apagar depois, vai servir pra mostrar quando começa a ditadura etc.
#annotate(geom="text", x=as.Date("1989-01-01"), y=42, label="Plano Verão", family="serif") +
#annotate(geom="point", x=as.Date("1989-01-01"), y=37, size=5, shape=1, fill="transparent") +
#annotate(geom="text", x=as.Date("1991-03-01"), y=82, label="Plano Collor I", family="serif") +
#annotate(geom="point", x=as.Date("1990-03-01"), y=82, size=5, shape=1, fill="transparent") +
teste
teste <- series_ts %>%
filter(between(Ano, as.Date("1965-01-01"), as.Date("1975-01-01"))) %>%
ggplot(aes(x = Ano, y = Valor), group = Milagre) +
labs(title = "Produto Interno bruto a preços de mercado: variação real anual",
subtitle = "1965-1975",
caption = "Fonte: Ipeadata",
x = "Anos",
y = "Variação em (%)") +
geom_line(aes(col = Milagre, group = 2), size = 1) +
scale_color_manual(values = c("#000000", "#FF0000")) +
#  geom_point() +
#  geom_text(aes(label = round(Valor, digits = 2), vjust = 2)) +
ylim(0, 14) +
scale_x_date(date_labels = "%Y", date_breaks = "1 year") +
theme(#aspect.ratio = 0.8,
plot.caption.position = "plot",
plot.title.position = "plot",
plot.caption = element_text(hjust = 0),
axis.line = element_line(size = 0.5),
plot.title = element_text(size = 18),
legend.position = "none") +
annotate("text", as.Date("1968-01-01"), y = 11, label = "Início") +
annotate("point", as.Date("1968-01-01"), y = 9.8, size = 5.5, shape = 1, fill = "transparent") +
annotate("text", as.Date("1973-01-01"), y = 12.6, label = "Fim") +
annotate("point", as.Date("1973-01-01"), y = 14, size = 5.5, shape = 1, fill = "transparent")
teste
teste <- series_ts %>%
filter(between(Ano, as.Date("1965-01-01"), as.Date("1975-01-01"))) %>%
ggplot(aes(x = Ano, y = Valor), group = Milagre) +
labs(title = "Produto Interno bruto a preços de mercado: variação real anual",
subtitle = "1965-1975",
caption = "Fonte: Ipeadata",
x = "Anos",
y = "Variação em (%)") +
geom_line(aes(col = Milagre, group = 1), size = 1) +
scale_color_manual(values = c("#000000", "#FF0000")) +
geom_point() +
#  geom_text(aes(label = round(Valor, digits = 2), vjust = 2)) +
ylim(0, 14) +
scale_x_date(date_labels = "%Y", date_breaks = "1 year") +
theme(#aspect.ratio = 0.8,
plot.caption.position = "plot",
plot.title.position = "plot",
plot.caption = element_text(hjust = 0),
axis.line = element_line(size = 0.5),
plot.title = element_text(size = 18),
legend.position = "none") +
annotate("text", as.Date("1968-01-01"), y = 11, label = "Início") +
annotate("point", as.Date("1968-01-01"), y = 9.8, size = 5.5, shape = 1, fill = "transparent") +
annotate("text", as.Date("1973-01-01"), y = 12.6, label = "Fim") +
annotate("point", as.Date("1973-01-01"), y = 14, size = 5.5, shape = 1, fill = "transparent")
teste
teste <- series_ts %>%
filter(between(Ano, as.Date("1965-01-01"), as.Date("1975-01-01"))) %>%
ggplot(aes(x = Ano, y = Valor), group = Milagre) +
labs(title = "Produto Interno bruto a preços de mercado: variação real anual",
subtitle = "1965-1975",
caption = "Fonte: Ipeadata",
x = "Anos",
y = "Variação em (%)") +
geom_line(aes(col = Milagre, group = 1), size = 1) +
scale_color_manual(values = c("#000000", "#FF0000")) +
geom_point() +
geom_text(aes(label = round(Valor, digits = 2), vjust = 2)) +
ylim(0, 14) +
scale_x_date(date_labels = "%Y", date_breaks = "1 year") +
theme(#aspect.ratio = 0.8,
plot.caption.position = "plot",
plot.title.position = "plot",
plot.caption = element_text(hjust = 0),
axis.line = element_line(size = 0.5),
plot.title = element_text(size = 18),
legend.position = "none") +
annotate("text", as.Date("1968-01-01"), y = 11, label = "Início") +
annotate("point", as.Date("1968-01-01"), y = 9.8, size = 5.5, shape = 1, fill = "transparent") +
annotate("text", as.Date("1973-01-01"), y = 12.6, label = "Fim") +
annotate("point", as.Date("1973-01-01"), y = 14, size = 5.5, shape = 1, fill = "transparent")
teste
teste <- series_ts %>%
filter(between(Ano, as.Date("1965-01-01"), as.Date("1975-01-01"))) %>%
ggplot(aes(x = Ano, y = Valor), group = Milagre) +
labs(title = "Produto Interno bruto a preços de mercado: variação real anual",
subtitle = "1965-1975",
caption = "Fonte: Ipeadata",
x = "Anos",
y = "Variação em (%)") +
geom_line(aes(col = Milagre, group = 1), size = 1) +
scale_color_manual(values = c("#000000", "#FF0000")) +
geom_point() +
geom_text(aes(label = round(Valor, digits = 2), vjust = 2)) +
ylim(0, 15.5) +
scale_x_date(date_labels = "%Y", date_breaks = "1 year") +
theme(#aspect.ratio = 0.8,
plot.caption.position = "plot",
plot.title.position = "plot",
plot.caption = element_text(hjust = 0),
axis.line = element_line(size = 0.5),
plot.title = element_text(size = 18),
legend.position = "none") +
annotate("text", as.Date("1968-01-01"), y = 11, label = "Início") +
annotate("point", as.Date("1968-01-01"), y = 9.8, size = 5.5, shape = 1, fill = "transparent") +
annotate("text", as.Date("1973-01-01"), y = 14, label = "Fim") +
annotate("point", as.Date("1973-01-01"), y = 14, size = 5.5, shape = 1, fill = "transparent")
teste
teste <- series_ts %>%
filter(between(Ano, as.Date("1965-01-01"), as.Date("1975-01-01"))) %>%
ggplot(aes(x = Ano, y = Valor), group = Milagre) +
labs(title = "Produto Interno bruto a preços de mercado: variação real anual",
subtitle = "1965-1975",
caption = "Fonte: Ipeadata",
x = "Anos",
y = "Variação em (%)") +
geom_line(aes(col = Milagre, group = 1), size = 1) +
scale_color_manual(values = c("#000000", "#FF0000")) +
geom_point() +
geom_text(aes(label = round(Valor, digits = 2), vjust = 2)) +
ylim(0, 15.5) +
scale_x_date(date_labels = "%Y", date_breaks = "1 year") +
theme(#aspect.ratio = 0.8,
plot.caption.position = "plot",
plot.title.position = "plot",
plot.caption = element_text(hjust = 0),
axis.line = element_line(size = 0.5),
plot.title = element_text(size = 18),
legend.position = "none") +
annotate("text", as.Date("1968-01-01"), y = 11, label = "Início") +
annotate("point", as.Date("1968-01-01"), y = 9.8, size = 5.5, shape = 1, fill = "transparent") +
annotate("text", as.Date("1973-01-01"), y = 15, label = "Fim") +
annotate("point", as.Date("1973-01-01"), y = 14, size = 5.5, shape = 1, fill = "transparent")
teste
series <- series %>% mutate(
milagre = if_else(date >= "1968-01-01" & date <= "1974-01-01", TRUE, FALSE)
)
series_ts <-  tsibble(
Ano = (series$date),
Valor = series$value,
Milagre = series$milagre,
index = Ano
)
teste <- series_ts %>%
filter(between(Ano, as.Date("1965-01-01"), as.Date("1975-01-01"))) %>%
ggplot(aes(x = Ano, y = Valor), group = Milagre) +
labs(title = "Produto Interno bruto a preços de mercado: variação real anual",
subtitle = "1965-1975",
caption = "Fonte: Ipeadata",
x = "Anos",
y = "Variação em (%)") +
geom_line(aes(col = Milagre, group = 1), size = 1) +
scale_color_manual(values = c("#000000", "#FF0000")) +
geom_point() +
geom_text(aes(label = round(Valor, digits = 2), vjust = 2)) +
ylim(0, 15.5) +
scale_x_date(date_labels = "%Y", date_breaks = "1 year") +
theme(#aspect.ratio = 0.8,
plot.caption.position = "plot",
plot.title.position = "plot",
plot.caption = element_text(hjust = 0),
axis.line = element_line(size = 0.5),
plot.title = element_text(size = 18),
legend.position = "none") +
annotate("text", as.Date("1968-01-01"), y = 11, label = "Início") +
annotate("point", as.Date("1968-01-01"), y = 9.8, size = 5.5, shape = 1, fill = "transparent") +
annotate("text", as.Date("1973-01-01"), y = 15, label = "Fim") +
annotate("point", as.Date("1973-01-01"), y = 14, size = 5.5, shape = 1, fill = "transparent")
teste
series <- series %>% mutate(
milagre = if_else(date >= "1968-01-01" & date <= "1972-01-01", TRUE, FALSE)
)
series_ts <-  tsibble(
Ano = (series$date),
Valor = series$value,
Milagre = series$milagre,
index = Ano
)
teste <- series_ts %>%
filter(between(Ano, as.Date("1965-01-01"), as.Date("1975-01-01"))) %>%
ggplot(aes(x = Ano, y = Valor), group = Milagre) +
labs(title = "Produto Interno bruto a preços de mercado: variação real anual",
subtitle = "1965-1975",
caption = "Fonte: Ipeadata",
x = "Anos",
y = "Variação em (%)") +
geom_line(aes(col = Milagre, group = 1), size = 1) +
scale_color_manual(values = c("#000000", "#FF0000")) +
geom_point() +
geom_text(aes(label = round(Valor, digits = 2), vjust = 2)) +
ylim(0, 15.5) +
scale_x_date(date_labels = "%Y", date_breaks = "1 year") +
theme(#aspect.ratio = 0.8,
plot.caption.position = "plot",
plot.title.position = "plot",
plot.caption = element_text(hjust = 0),
axis.line = element_line(size = 0.5),
plot.title = element_text(size = 18),
legend.position = "none") +
annotate("text", as.Date("1968-01-01"), y = 11, label = "Início") +
annotate("point", as.Date("1968-01-01"), y = 9.8, size = 5.5, shape = 1, fill = "transparent") +
annotate("text", as.Date("1973-01-01"), y = 15, label = "Fim") +
annotate("point", as.Date("1973-01-01"), y = 14, size = 5.5, shape = 1, fill = "transparent")
teste
## Detalhes
teste <- series_ts %>%
filter(between(Ano, as.Date("1965-01-01"), as.Date("1975-01-01"))) %>%
ggplot(aes(x = Ano, y = Valor), group = Milagre) +
labs(title = "Produto Interno bruto a preços de mercado: variação real anual",
subtitle = "1965-1975",
caption = "Fonte: Ipeadata",
x = "Anos",
y = "Variação em (%)") +
geom_line(aes(col = Milagre, group = 1), size = 1) +
scale_color_manual(values = c("#000000", "#FF0000")) +
geom_point() +
geom_text(aes(label = round(Valor, digits = 2), vjust = 3, hjust = 4)) +
ylim(0, 15.5) +
scale_x_date(date_labels = "%Y", date_breaks = "1 year") +
theme(#aspect.ratio = 0.8,
plot.caption.position = "plot",
plot.title.position = "plot",
plot.caption = element_text(hjust = 0),
axis.line = element_line(size = 0.5),
plot.title = element_text(size = 18),
legend.position = "none") +
annotate("text", as.Date("1968-01-01"), y = 11, label = "Início") +
annotate("point", as.Date("1968-01-01"), y = 9.8, size = 5.5, shape = 1, fill = "transparent") +
annotate("text", as.Date("1973-01-01"), y = 15, label = "Fim") +
annotate("point", as.Date("1973-01-01"), y = 14, size = 5.5, shape = 1, fill = "transparent")
teste
teste <- series_ts %>%
filter(between(Ano, as.Date("1965-01-01"), as.Date("1975-01-01"))) %>%
ggplot(aes(x = Ano, y = Valor), group = Milagre) +
labs(title = "Produto Interno bruto a preços de mercado: variação real anual",
subtitle = "1965-1975",
caption = "Fonte: Ipeadata",
x = "Anos",
y = "Variação em (%)") +
geom_line(aes(col = Milagre, group = 1), size = 1) +
scale_color_manual(values = c("#000000", "#FF0000")) +
geom_point() +
geom_text(aes(label = round(Valor, digits = 2), vjust = 3, hjust = 1)) +
ylim(0, 15.5) +
scale_x_date(date_labels = "%Y", date_breaks = "1 year") +
theme(#aspect.ratio = 0.8,
plot.caption.position = "plot",
plot.title.position = "plot",
plot.caption = element_text(hjust = 0),
axis.line = element_line(size = 0.5),
plot.title = element_text(size = 18),
legend.position = "none") +
annotate("text", as.Date("1968-01-01"), y = 11, label = "Início") +
annotate("point", as.Date("1968-01-01"), y = 9.8, size = 5.5, shape = 1, fill = "transparent") +
annotate("text", as.Date("1973-01-01"), y = 15, label = "Fim") +
annotate("point", as.Date("1973-01-01"), y = 14, size = 5.5, shape = 1, fill = "transparent")
teste
teste <- series_ts %>%
filter(between(Ano, as.Date("1965-01-01"), as.Date("1975-01-01"))) %>%
ggplot(aes(x = Ano, y = Valor), group = Milagre) +
labs(title = "Produto Interno bruto a preços de mercado: variação real anual",
subtitle = "1965-1975",
caption = "Fonte: Ipeadata",
x = "Anos",
y = "Variação em (%)") +
geom_line(aes(col = Milagre, group = 1), size = 1) +
scale_color_manual(values = c("#000000", "#FF0000")) +
geom_point() +
geom_text(aes(label = round(Valor, digits = 2), vjust = 3, hjust = 0.5)) +
ylim(0, 15.5) +
scale_x_date(date_labels = "%Y", date_breaks = "1 year") +
theme(#aspect.ratio = 0.8,
plot.caption.position = "plot",
plot.title.position = "plot",
plot.caption = element_text(hjust = 0),
axis.line = element_line(size = 0.5),
plot.title = element_text(size = 18),
legend.position = "none") +
annotate("text", as.Date("1968-01-01"), y = 11, label = "Início") +
annotate("point", as.Date("1968-01-01"), y = 9.8, size = 5.5, shape = 1, fill = "transparent") +
annotate("text", as.Date("1973-01-01"), y = 15, label = "Fim") +
annotate("point", as.Date("1973-01-01"), y = 14, size = 5.5, shape = 1, fill = "transparent")
teste
